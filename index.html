<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Game Market</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #0e0e0e;
      color: white;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
    .nav-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      padding: 20px;
      background: rgba(30, 30, 30, 0.95);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    button {
      padding: 12px 25px;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      background: linear-gradient(90deg, #6f42c1, #007bff);
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 120px;
    }
    
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
    }
    
    .back-button {
      background: #d9534f;
    }
    
    .back-button:hover {
      background: #c9302c;
    }
    
    /* –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .container {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    /* –°–ø–∏—Å–æ–∫ –∏–≥—Ä */
    .game-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .game {
      background: linear-gradient(145deg, #1c1c1c, #2a2a2a);
      padding: 15px;
      border-radius: 15px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid #333;
    }
    
    .game:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(0, 123, 255, 0.2);
      border-color: #6f42c1;
    }
    
    .game img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 10px;
      border: 2px solid #444;
    }
    
    .game h3 {
      font-size: 16px;
      margin-bottom: 5px;
    }
    
    .game-price {
      color: #00ff88;
      font-weight: bold;
      font-size: 14px;
    }
    
    /* –î–µ—Ç–∞–ª–∏ –∏–≥—Ä—ã */
    .game-detail {
      display: none;
      animation: fadeIn 0.3s ease;
    }
    
    .game-detail-content {
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .game-detail img {
      width: 100%;
      max-height: 300px;
      object-fit: cover;
      border-radius: 15px;
      margin-bottom: 20px;
    }
    
    .game-detail h2 {
      color: #6f42c1;
      margin-bottom: 15px;
      font-size: 24px;
    }
    
    .game-detail p {
      line-height: 1.6;
      color: #ccc;
      margin-bottom: 20px;
    }
    
    /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥–∞–≤—Ü–µ */
    .seller-info {
      background: rgba(28, 28, 28, 0.8);
      padding: 15px;
      border-radius: 10px;
      margin: 20px 0;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid #444;
    }
    
    .seller-info:hover {
      background: rgba(40, 40, 40, 0.8);
      border-color: #6f42c1;
    }
    
    .seller-info-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    
    .seller-info-left {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #6f42c1;
    }
    
    .rating {
      color: #ffcc00;
      font-size: 14px;
    }
    
    .seller-name {
      font-weight: bold;
      color: #fff;
    }
    
    .price {
      font-size: 22px;
      font-weight: bold;
      color: #00ff88;
      text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
    }
    
    /* –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞ */
    .seller-description {
      display: none;
      background: linear-gradient(145deg, #1c1c1c, #2a2a2a);
      padding: 25px;
      border-radius: 15px;
      margin-top: 20px;
      border: 1px solid #6f42c1;
      animation: slideIn 0.3s ease;
    }
    
    .seller-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin: 20px 0;
    }
    
    .stat-item {
      background: rgba(0, 123, 255, 0.1);
      padding: 15px;
      border-radius: 10px;
      text-align: center;
    }
    
    .stat-value {
      font-size: 24px;
      font-weight: bold;
      color: #00ff88;
    }
    
    .stat-label {
      font-size: 12px;
      color: #aaa;
      margin-top: 5px;
    }
    
    .action-buttons {
      display: flex;
      gap: 15px;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 25px;
    }
    
    .action-buttons button {
      flex: 1;
      min-width: 150px;
    }
    
    /* –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç */
    .profile {
      display: none;
      max-width: 600px;
      margin: 0 auto;
      animation: fadeIn 0.3s ease;
    }
    
    .profile-header {
      text-align: center;
      padding: 30px 20px;
      background: linear-gradient(145deg, #1c1c1c, #2a2a2a);
      border-radius: 15px;
      margin-bottom: 20px;
    }
    
    .user-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #6f42c1;
      margin-bottom: 15px;
    }
    
    .user-info {
      margin-bottom: 20px;
    }
    
    .balance-display {
      background: linear-gradient(90deg, #6f42c1, #007bff);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      margin: 20px 0;
    }
    
    .balance-amount {
      font-size: 32px;
      font-weight: bold;
      color: #fff;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
    }
    
    .profile-sections {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    
    .section-card {
      background: rgba(40, 40, 40, 0.8);
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #444;
      transition: all 0.3s ease;
    }
    
    .section-card:hover {
      border-color: #6f42c1;
      transform: translateY(-3px);
    }
    
    .section-card h3 {
      color: #6f42c1;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    /* –ß–∞—Ç */
    .chat-container {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
    }
    
    .chat-box {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 500px;
      background: #1c1c1c;
      border-radius: 15px;
      padding: 20px;
      border: 2px solid #6f42c1;
    }
    
    .chat-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #444;
    }
    
    .chat-messages {
      height: 300px;
      overflow-y: auto;
      padding: 15px;
      background: rgba(40, 40, 40, 0.5);
      border-radius: 10px;
      margin-bottom: 15px;
    }
    
    .message {
      margin-bottom: 10px;
      padding: 10px 15px;
      border-radius: 10px;
      max-width: 80%;
    }
    
    .message.user {
      background: linear-gradient(90deg, #6f42c1, #007bff);
      margin-left: auto;
    }
    
    .message.seller {
      background: rgba(40, 40, 40, 0.8);
      border: 1px solid #444;
    }
    
    .chat-input {
      display: flex;
      gap: 10px;
    }
    
    .chat-input input {
      flex: 1;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #444;
      background: rgba(40, 40, 40, 0.8);
      color: white;
    }
    
    /* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ */
    .support-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: linear-gradient(90deg, #6f42c1, #007bff);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(111, 66, 193, 0.4);
      z-index: 99;
      transition: all 0.3s ease;
    }
    
    .support-button:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(111, 66, 193, 0.6);
    }
    
    .support-button img {
      width: 30px;
      height: 30px;
    }
    
    /* –ë–∞–ª–∞–Ω—Å */
    .balance {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(28, 28, 28, 0.9);
      padding: 10px 20px;
      border-radius: 10px;
      font-size: 18px;
      font-weight: bold;
      color: #00ff88;
      z-index: 101;
      border: 1px solid #444;
    }
    
    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideIn {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
    @media (max-width: 768px) {
      .game-list {
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      }
      
      .nav-buttons {
        flex-wrap: wrap;
      }
      
      button {
        min-width: 100px;
        padding: 10px 15px;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .seller-stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- –ë–∞–ª–∞–Ω—Å -->
  <div class="balance" id="balance">–ë–∞–ª–∞–Ω—Å: 1.000.000.000.000 —Å—É–º</div>

  <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
  <div class="nav-buttons" id="mainMenu">
    <button onclick="openMarket()">üéÆ –ú–∞—Ä–∫–µ—Ç</button>
    <button onclick="openProfile()">üë§ –ü—Ä–æ—Ñ–∏–ª—å</button>
    <button onclick="openSupport()">üõ† –ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
  <div class="container">
    <!-- –°–ø–∏—Å–æ–∫ –∏–≥—Ä -->
    <div class="game-list" id="gameList"></div>

    <!-- –î–µ—Ç–∞–ª–∏ –∏–≥—Ä—ã -->
    <div class="game-detail" id="gameDetail">
      <div class="game-detail-content">
        <button class="back-button" onclick="goBackToMarket()">‚Üê –ù–∞–∑–∞–¥ –∫ –∏–≥—Ä–∞–º</button>
        
        <img id="detailImage" src="" alt="Game Image">
        <h2 id="detailTitle"></h2>
        <p id="detailDescription"></p>

        <div class="seller-info" onclick="showSellerDescription()">
          <div class="seller-info-content">
            <div class="seller-info-left">
              <img id="sellerAvatar" class="avatar" src="" alt="Avatar">
              <div>
                <div class="seller-name" id="sellerName">–ò–≤–∞–Ω –ü—Ä–æ–¥–∞–≤–µ—Ü</div>
                <div class="rating" id="sellerRating">‚òÖ 4.8 (124 –æ—Ç–∑—ã–≤–∞)</div>
              </div>
            </div>
            <div class="price" id="gamePrice">99‚ÇΩ</div>
          </div>
        </div>

        <!-- –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞ -->
        <div class="seller-description" id="sellerDescription">
          <h3>üë§ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥–∞–≤—Ü–µ</h3>
          <p>–û–ø—ã—Ç–Ω—ã–π –ø—Ä–æ–¥–∞–≤–µ—Ü –∏–≥—Ä–æ–≤–æ–π –≤–∞–ª—é—Ç—ã —Å 2018 –≥–æ–¥–∞. –ì–∞—Ä–∞–Ω—Ç–∏—è –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏.</p>
          
          <div class="seller-stats">
            <div class="stat-item">
              <div class="stat-value" id="sellerSales">1.2K</div>
              <div class="stat-label">–ü—Ä–æ–¥–∞–∂</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="sellerRatingValue">4.8</div>
              <div class="stat-label">–†–µ–π—Ç–∏–Ω–≥</div>
            </div>
            <div class="stat-item">
              <div class="stat-value" id="sellerResponse">5 –º–∏–Ω</div>
              <div class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞</div>
            </div>
          </div>

          <h3>üìù –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</h3>
          <p id="productDescription">üåü –ö—É–ø–∏—Ç–µ –∏–≥—Ä–æ–≤—É—é –≤–∞–ª—é—Ç—É –ø–æ –ª—É—á—à–µ–π —Ü–µ–Ω–µ! –ì–∞—Ä–∞–Ω—Ç–∏—è –±—ã—Å—Ç—Ä–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã. –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7.</p>

          <div class="action-buttons">
            <button onclick="startChat()">üí¨ –ù–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–¥–∞–≤—Ü—É</button>
            <button onclick="buyGame()" style="background: linear-gradient(90deg, #00ff88, #00cc66);">üí∞ –ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å</button>
            <button onclick="addToFavorites()" style="background: linear-gradient(90deg, #ffcc00, #ff9900);">‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
          </div>
        </div>
      </div>
    </div>

    <!-- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç -->
    <div class="profile" id="profileSection">
      <div class="profile-header">
        <button class="back-button" onclick="goBackToMenu()">‚Üê –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é</button>
        
        <img id="userPhoto" class="user-avatar" src="https://via.placeholder.com/100" alt="User Photo">
        <h2 id="userName">–ê–ª–µ–∫—Å–µ–π –ì–µ–π–º–µ—Ä</h2>
        <p id="userEmail">gamer@example.com</p>
        
        <div class="balance-display">
          <div>–í–∞—à –±–∞–ª–∞–Ω—Å</div>
          <div class="balance-amount" id="userBalance"> 1000 —Å—É–º</div>
        </div>
      </div>

      <div class="profile-sections">
        <div class="section-card">
          <h3>üí≥ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞</h3>
          <p>–ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –¥–ª—è –ø–æ–∫—É–ø–æ–∫</p>
          <button onclick="openCardSection()" style="width: 100%; margin-top: 10px;">‚ûï –ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
        </div>

        <div class="section-card">
          <h3>üìú –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
          <div id="transactionHistory">
          </div>
          <button onclick="showFullHistory()" style="width: 100%; margin-top: 10px;">üìñ –í—Å—è –∏—Å—Ç–æ—Ä–∏—è</button>
        </div>

        <div class="section-card">
          <h3>‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h3>
          <div id="favoritesList">
            <div class="favorite-item">PUBG Mobile - UC</div>
            <div class="favorite-item">Free Fire - –ê–ª–º–∞–∑—ã</div>
          </div>
        </div>

        <div class="section-card">
          <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
          <button onclick="changeAvatar()" style="width: 100%; margin: 5px 0;">üñºÔ∏è –°–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä</button>
          <button onclick="changePassword()" style="width: 100%; margin: 5px 0;">üîí –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
          <button onclick="logout()" style="width: 100%; margin: 5px 0; background: #d9534f;">üö™ –í—ã–π—Ç–∏</button>
        </div>
      </div>
    </div>

    <!-- –ß–∞—Ç —Å –ø—Ä–æ–¥–∞–≤—Ü–æ–º -->
    <div class="chat-container" id="chatContainer">
      <div class="chat-box">
        <div class="chat-header">
          <h3>üí¨ –ß–∞—Ç —Å –ø—Ä–æ–¥–∞–≤—Ü–æ–º</h3>
          <button onclick="closeChat()" style="background: #d9534f; padding: 8px 15px;">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
        
        <div class="chat-messages" id="chatMessages">
          <div class="message seller">
            <strong>–ü—Ä–æ–¥–∞–≤–µ—Ü:</strong> –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?
          </div>
          <div class="message user">
            <strong>–í—ã:</strong> –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –ø–æ–∫—É–ø–∫–∞ UC
          </div>
          <div class="message seller">
            <strong>–ü—Ä–æ–¥–∞–≤–µ—Ü:</strong> –û—Ç–ª–∏—á–Ω–æ! –°–∫–æ–ª—å–∫–æ UC –≤–∞–º –Ω—É–∂–Ω–æ?
          </div>
        </div>
        
        <div class="chat-input">
          <input type="text" id="chatInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." onkeypress="sendMessageOnEnter(event)">
          <button onclick="sendMessage()">üì§</button>
        </div>
      </div>
    </div>
  </div>

  <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ -->
  <div class="support-button" onclick="openTelegramChat()">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Telegram_icon_%282019%29.svg/1200px-Telegram_icon_%282019%29.svg.png" alt="Support">
  </div>

  <script>
    // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä
    const games = [
      {
        title: "PUBG Mobile",
        image: "https://upload.wikimedia.org/wikipedia/ru/7/7e/PlayerUnknown%27s_Battlegrounds_Mobile.jpg",
        description: "–ü–æ–ø—É–ª—è—Ä–Ω—ã–π –º–æ–±–∏–ª—å–Ω—ã–π —à—É—Ç–µ—Ä —Å –∫–æ—Ä–æ–ª–µ–≤—Å–∫–æ–π –±–∏—Ç–≤–æ–π. –ö—É–ø–∏—Ç–µ UC –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤.",
        price: "12.000 —Å—É–º",
        sellerAvatar: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/500px-Unknown_person.jpg",
        sellerName: "PUBG",
        rating: "‚òÖ 4.8 (124 –æ—Ç–∑—ã–≤–∞)",
        sales: "1.2K",
        response: "5 –º–∏–Ω"
      },
      {
        title: "Free Fire",
        image: "https://cdn-bgp.bluestacks.com/BGP/ru/gametiles_com.dts.freefireth.jpg",
        description: "–≠–∫—à–Ω –∏–≥—Ä–∞ —Å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –º–∞—Ç—á–∞–º–∏ –∏ –±—ã—Å—Ç—Ä–æ–π –¥–∏–Ω–∞–º–∏–∫–æ–π. –ê–ª–º–∞–∑—ã –¥–ª—è –ø–æ–∫—É–ø–∫–∏ —Å–∫–∏–Ω–æ–≤ –∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.",
        price: "10 —Å—É–º",
        sellerAvatar: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/500px-Unknown_person.jpg",
        sellerName: "FREE",
        rating: "‚òÖ 4.7 (89 –æ—Ç–∑—ã–≤–æ–≤)",
        sales: "890",
        response: "3 –º–∏–Ω"
      },
      {
        title: "Mobile Legends",
        image: "https://images.unsplash.com/photo-1542751371-adc38448a05e?w=400",
        description: "MOBA –Ω–∞ –º–æ–±–∏–ª–∫–µ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≥–µ—Ä–æ–µ–≤. –ö—É–ø–∏—Ç–µ –∞–ª–º–∞–∑—ã –¥–ª—è –Ω–æ–≤—ã—Ö –≥–µ—Ä–æ–µ–≤ –∏ —Å–∫–∏–Ω–æ–≤.",
        price: "109 —Å—É–º",
        sellerAvatar: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100",
        sellerName: "–ê–ª–µ–∫—Å–µ–π –õ–µ–≥–µ–Ω–¥–∞",
        rating: "‚òÖ 4.9 (156 –æ—Ç–∑—ã–≤–æ–≤)",
        sales: "1.5K",
        response: "2 –º–∏–Ω"
      },
      {
        title: "Fortnite",
        image: "https://cdn2.unrealengine.com/the-future-of-fortnite-is-here-1920x1080-fd281a65c8ef.jpg",
        description: "V-Bucks –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –±–æ–µ–≤–æ–≥–æ –ø—Ä–æ–ø—É—Å–∫–∞ –∏ –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤.",
        price: "10.000—Å—É–º",
        sellerAvatar: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Unknown_person.jpg/500px-Unknown_person.jpg",
        sellerName: "–§–æ—Ä–Ω–∞–π—Ç",
        rating: "‚òÖ 4.8 (267 –æ—Ç–∑—ã–≤–æ–≤)",
        sales: "1.8K",
        response: "6 –º–∏–Ω"
      },
    ];

    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    let currentGameIndex = 0;
    let userBalance = 5000;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    document.addEventListener('DOMContentLoaded', function() {
      updateBalanceDisplay();
      openMarket();
    });

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
    function updateBalanceDisplay() {
      document.getElementById('balance').textContent = `–ë–∞–ª–∞–Ω—Å: ${userBalance.toLocaleString()} ‚ÇΩ`;
      document.getElementById('userBalance').textContent = `${userBalance.toLocaleString()} ‚ÇΩ`;
    }

    // –û—Ç–∫—Ä—ã—Ç—å –º–∞—Ä–∫–µ—Ç
    function openMarket() {
      hideAllSections();
      document.getElementById('mainMenu').style.display = 'flex';
      
      const list = document.getElementById('gameList');
      list.innerHTML = games.map((game, i) => `
        <div class="game" onclick="showGameDetail(${i})">
          <img src="${game.image}" alt="${game.title}">
          <h3>${game.title}</h3>
          <div class="game-price">${game.price}</div>
          <div style="font-size: 12px; color: #aaa; margin-top: 5px;">${game.description.substring(0, 50)}...</div>
        </div>
      `).join('');
      
      list.style.display = 'grid';
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∏–≥—Ä—ã
    function showGameDetail(index) {
      currentGameIndex = index;
      const game = games[index];
      
      hideAllSections();
      document.getElementById('gameDetail').style.display = 'block';
      
      document.getElementById('detailImage').src = game.image;
      document.getElementById('detailTitle').textContent = game.title;
      document.getElementById('detailDescription').textContent = game.description;
      document.getElementById('gamePrice').textContent = game.price;
      document.getElementById('sellerAvatar').src = game.sellerAvatar;
      document.getElementById('sellerName').textContent = game.sellerName;
      document.getElementById('sellerRating').textContent = game.rating;
      document.getElementById('sellerSales').textContent = game.sales;
      document.getElementById('sellerRatingValue').textContent = game.rating.split(' ')[0];
      document.getElementById('sellerResponse').textContent = game.response;
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–¥–∞–≤—Ü–µ
    function showSellerDescription() {
      document.getElementById('sellerDescription').style.display = 'block';
    }

    // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å–µ–∫—Ü–∏–∏
    function hideAllSections() {
      document.getElementById('gameList').style.display = 'none';
      document.getElementById('gameDetail').style.display = 'none';
      document.getElementById('sellerDescription').style.display = 'none';
      document.getElementById('profileSection').style.display = 'none';
      document.getElementById('chatContainer').style.display = 'none';
      document.getElementById('mainMenu').style.display = 'none';
    }

    // –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–∞—Ä–∫–µ—Ç
    function goBackToMarket() {
      openMarket();
    }

    // –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
    function openProfile() {
      hideAllSections();
      document.getElementById('profileSection').style.display = 'block';
    }

    // –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é
    function goBackToMenu() {
      hideAllSections();
      document.getElementById('mainMenu').style.display = 'flex';
    }

    // –û—Ç–∫—Ä—ã—Ç—å —Ä–∞–∑–¥–µ–ª —Å –∫–∞—Ä—Ç–æ–π
    function openCardSection() {
      alert('–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞:\n–ö–∞—Ä—Ç–∞: 0000 0000 0000 0000\n–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –¥–µ–Ω—å–≥–∏ –ø–æ—Å—Ç—É–ø—è—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç.');
    }

    // –ö—É–ø–∏—Ç—å –∏–≥—Ä—É
    function buyGame() {
      const game = games[currentGameIndex];
      const price = parseInt(game.price);
      
      if (userBalance >= price) {
        if (confirm(`–ö—É–ø–∏—Ç—å "${game.title}" –∑–∞ ${game.price}?`)) {
          userBalance -= price;
          updateBalanceDisplay();
          
          // –î–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –≤ –∏—Å—Ç–æ—Ä–∏—é
          const history = document.getElementById('transactionHistory');
          const transaction = document.createElement('div');
          transaction.className = 'transaction';
          transaction.textContent = `–ü–æ–∫—É–ø–∫–∞ ${game.title} - ${game.price}`;
          history.insertBefore(transaction, history.firstChild);
          
          alert('‚úÖ –ü–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–∞! –°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø—Ä–æ–¥–∞–≤—Ü–æ–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞.');
          startChat();
        }
      } else {
        alert('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ —Å—á–µ—Ç.');
        openCardSection();
      }
    }

    // –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç
    function startChat() {
      hideAllSections();
      document.getElementById('chatContainer').style.display = 'block';
    }

    // –ó–∞–∫—Ä—ã—Ç—å —á–∞—Ç
    function closeChat() {
      openMarket();
    }

    // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
    function sendMessage() {
      const input = document.getElementById('chatInput');
      const message = input.value.trim();
      
      if (message) {
        const messages = document.getElementById('chatMessages');
        
        // –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const userMsg = document.createElement('div');
        userMsg.className = 'message user';
        userMsg.innerHTML = `<strong>–í—ã:</strong> ${message}`;
        messages.appendChild(userMsg);
        
        // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è –≤–≤–æ–¥–∞
        input.value = '';
        
        // –ê–≤—Ç–æ–æ—Ç–≤–µ—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞ (—á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É)
        setTimeout(() => {
          const responses = [
            "–ü–æ–Ω—è–ª –≤–∞—Å! –ú–æ–∂–µ–º –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑.",
            "–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä! –î–æ—Å—Ç–∞–≤–∫–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç.",
            "–°–∫–æ–ª—å–∫–æ –µ–¥–∏–Ω–∏—Ü –≤–∞–ª—é—Ç—ã –≤–∞–º –Ω—É–∂–Ω–æ?",
            "–ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å –ø–æ–∫—É–ø–∫–æ–π!"
          ];
          const response = responses[Math.floor(Math.random() * responses.length)];
          
          const sellerMsg = document.createElement('div');
          sellerMsg.className = 'message seller';
          sellerMsg.innerHTML = `<strong>–ü—Ä–æ–¥–∞–≤–µ—Ü:</strong> ${response}`;
          messages.appendChild(sellerMsg);
          
          // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑
          messages.scrollTop = messages.scrollHeight;
        }, 1000);
        
        // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –≤–Ω–∏–∑
        messages.scrollTop = messages.scrollHeight;
      }
    }

    // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ Enter
    function sendMessageOnEnter(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    // –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
    function addToFavorites() {
      const game = games[currentGameIndex];
      const favorites = document.getElementById('favoritesList');
      const item = document.createElement('div');
      item.className = 'favorite-item';
      item.textContent = `${game.title} - ${game.price}`;
      favorites.appendChild(item);
      alert(`‚úÖ "${game.title}" –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!`);
    }

    // –û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É
    function openSupport() {
      alert('üìû –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞:\nEmail: ddimonov461@gmai.com \n–¢–µ–ª–µ–≥—Ä–∞–º: @Dma12r t\n–†–∞–±–æ—Ç–∞–µ–º 24/7');
    }

    // –û—Ç–∫—Ä—ã—Ç—å Telegram
    function openTelegramChat() {
      window.open('https://t.me/your_telegram_bot', '_blank');
    }

    // –°–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä
    function changeAvatar() {
      alert('–§—É–Ω–∫—Ü–∏—è —Å–º–µ–Ω—ã –∞–≤–∞—Ç–∞—Ä–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ');
    }

    // –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
    function changePassword() {
      const newPass = prompt('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å:');
      if (newPass && newPass.length >= 6) {
        alert('‚úÖ –ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω!');
      } else if (newPass) {
        alert('‚ùå –ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤');
      }
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é
    function showFullHistory() {
      alert('üìñ –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π:\n1. –ü–æ–∫—É–ø–∫–∞ PUBG UC - 500 ‚ÇΩ\n2. –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞ + 2 000 ‚ÇΩ\n3. –ü–æ–∫—É–ø–∫–∞ Free Fire - 350 ‚ÇΩ\n4. –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞ + 3 000 ‚ÇΩ\n5. –ü–æ–∫—É–ø–∫–∞ Mobile Legends - 450 ‚ÇΩ');
    }

    // –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
    function logout() {
      if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
        alert('–í—ã —É—Å–ø–µ—à–Ω–æ –≤—ã—à–ª–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞');
        openMarket();
      }
    }
  </script>
</body>
</html>
